<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CineQuiz - Jeu cinématographique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="film-reel"></div>

    <header class="py-4 px-4 sm:px-6 border-b border-gray-800 sticky top-0 bg-gray-900/80 backdrop-blur-sm z-50">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2 cursor-pointer" data-page="home">
                <i class="fas fa-film text-2xl text-yellow-400"></i>
                <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-red-500">CineQuiz</h1>
            </div>

            <button class="mobile-menu-btn md:hidden text-xl" id="mobile-menu-button">
                <i class="fas fa-bars"></i>
            </button>

            <nav id="main-nav">
                <button class="close-menu-btn md:hidden" id="close-menu-button">
                    <i class="fas fa-times"></i>
                </button>
                <ul class="flex space-x-6 md:space-x-8">
                    <label class="theme-switch">
                    <input type="checkbox" id="theme-toggle" class="theme-switch-input">
                    <span class="theme-switch-slider">
                        <span class="theme-switch-knob"></span>
                        <span class="theme-icons">
                        <i class="fas fa-moon"></i>
                        <i class="fas fa-sun"></i>
                        </span>
                    </span>
                    </label>
                    <li><a href="#" class="nav-link hover:text-yellow-400 transition" data-page="home">Accueil</a></li>
                    <li><a href="#" class="nav-link hover:text-yellow-400 transition" data-page="setup">Jouer</a></li>
                    <li><a href="#" class="nav-link hover:text-yellow-400 transition" data-page="rules">Règles</a></li>
                    <li><a href="#" class="nav-link hover:text-yellow-400 transition" data-page="about">À propos</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 py-8">
        <!-- Home Page -->
        <section id="home-page" class="page active max-w-5xl mx-auto">
            <div class="bg-gray-800/90 rounded-2xl shadow-2xl border border-gray-700/50 p-6">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-3">Bienvenue sur <span class="bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-red-400">CineQuiz</span></h2>
                    <p class="text-lg text-gray-300">Testez vos connaissances cinématographiques !</p>
                </div>

                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-gray-700/50 hover:bg-gray-700/70 rounded-xl p-6 border border-gray-600/30 cursor-pointer transition-all hover:scale-[1.02]" data-page="setup">
                        <i class="fas fa-play text-3xl text-yellow-400 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">Nouvelle partie</h3>
                        <p class="text-gray-400">Lancez une partie personnalisée</p>
                    </div>

                    <div class="bg-gray-700/50 hover:bg-gray-700/70 rounded-xl p-6 border border-gray-600/30 cursor-pointer transition-all hover:scale-[1.02]" data-page="rules">
                        <i class="fas fa-book-open text-3xl text-red-400 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">Règles du jeu</h3>
                        <p class="text-gray-400">Apprenez à jouer</p>
                    </div>

                    <div class="bg-gray-700/50 hover:bg-gray-700/70 rounded-xl p-6 border border-gray-600/30 cursor-pointer transition-all hover:scale-[1.02]" data-page="about">
                        <i class="fas fa-info-circle text-3xl text-purple-400 mb-4"></i>
                        <h3 class="text-xl font-bold mb-2">À propos</h3>
                        <p class="text-gray-400">Découvrez CineQuiz</p>
                    </div>
                </div>

                <div class="text-center">
                    <button data-page="setup" class="btn-primary">
                        Commencer une partie <i class="fas fa-play ml-2"></i>
                    </button>
                </div>

                <div class="movie-grid mt-8">
                    <div class="movie-card">
                        <img src="https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg" alt="Pulp Fiction" loading="lazy">
                        <div class="movie-title">Pulp Fiction</div>
                    </div>
                    <div class="movie-card">
                        <img src="https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_.jpg" alt="The Dark Knight" loading="lazy">
                        <div class="movie-title">The Dark Knight</div>
                    </div>
                    <div class="movie-card">
                        <img src="https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_.jpg" alt="The Shawshank Redemption" loading="lazy">
                        <div class="movie-title">The Shawshank Redemption</div>
                    </div>
                    <div class="movie-card">
                        <img src="https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg" alt="The Godfather" loading="lazy">
                        <div class="movie-title">The Godfather</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Rules Page -->
        <section id="rules-page" class="page max-w-5xl mx-auto">
            <div class="bg-gray-800/90 rounded-2xl shadow-2xl border border-gray-700/50 p-6">
                <h2 class="text-2xl font-bold mb-6 text-center">Règles du jeu</h2>

                <div class="space-y-6">
                    <div class="bg-gray-700/70 rounded-xl p-6">
                        <h3 class="text-xl font-semibold text-yellow-400 mb-3">1. Formation des équipes</h3>
                        <ul class="space-y-2 list-disc pl-5 text-gray-300">
                            <li>Divisez-vous en <strong>au moins 2 équipes</strong>.</li>
                            <li>Chaque équipe choisit un nom.</li>
                            <li>Configurez les options de la partie : durée des tours, nombre de cartes, etc.</li>
                        </ul>
                    </div>

                    <div class="bg-gray-700/70 rounded-xl p-6">
                        <h3 class="text-xl font-semibold text-yellow-400 mb-3">2. Déroulement du jeu (3 Manches)</h3>
                        <ul class="space-y-2 list-disc pl-5 text-gray-300">
                            <li><strong>Manche 1 - Description :</strong> Faites deviner le mot sur la carte en parlant librement, mais sans dire le mot exact ou une partie du mot.</li>
                            <li><strong>Manche 2 - Un mot :</strong> Faites deviner avec <strong>un seul et unique mot</strong>.</li>
                            <li><strong>Manche 3 - Mime :</strong> Faites deviner uniquement par des gestes et des mimes. Aucun son n'est autorisé.</li>
                        </ul>
                    </div>

                    <div class="bg-gray-700/70 rounded-xl p-6">
                        <h3 class="text-xl font-semibold text-yellow-400 mb-3">3. Points et Tours</h3>
                        <ul class="space-y-2 list-disc pl-5 text-gray-300">
                            <li>Chaque équipe joue à tour de rôle. Le tour s'arrête quand le chronomètre est à zéro.</li>
                            <li>Les cartes trouvées rapportent <strong>1 point</strong>.</li>
                            <li>Les cartes passées ou non trouvées à la fin du chrono restent dans la pioche pour le joueur suivant.</li>
                            <li>Quand toutes les cartes ont été trouvées, la manche est terminée. On remet <strong>toutes les cartes</strong> dans la pioche et on passe à la manche suivante !</li>
                            <li>L'équipe avec le plus de points à la fin des 3 manches gagne.</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-8 text-center">
                    <button data-page="home" class="btn-secondary px-6 py-2 rounded-lg">
                        <i class="fas fa-home mr-2"></i> Retour à l'accueil
                    </button>
                </div>
            </div>
        </section>

        <!-- About Page -->
        <section id="about-page" class="page max-w-5xl mx-auto">
            <div class="bg-gray-800/90 rounded-2xl shadow-2xl border border-gray-700/50 p-6">
                <h2 class="text-2xl font-bold mb-6 text-center">À propos</h2>

                <div class="space-y-6">
                    <div class="bg-gray-700/70 rounded-xl p-6">
                        <p class="text-gray-300 mb-4">CineQuiz est un jeu inspiré de Time's Up, conçu pour les passionnés de cinéma. Faites deviner films, séries, acteurs et personnages à votre équipe !</p>
                        <p class="text-gray-300">Parfait pour les soirées entre amis ou en famille, CineQuiz teste vos connaissances cinématographiques et votre capacité à faire deviner sous contraintes.</p>
                    </div>

                    <div class="grid sm:grid-cols-3 gap-4">
                        <div class="bg-gray-700/70 rounded-lg p-4 text-center">
                            <div class="text-3xl font-bold text-yellow-400">400+</div>
                            <div class="text-gray-400">Cartes</div>
                        </div>
                        <div class="bg-gray-700/70 rounded-lg p-4 text-center">
                            <div class="text-3xl font-bold text-yellow-400">6</div>
                            <div class="text-gray-400">Catégories</div>
                        </div>
                        <div class="bg-gray-700/70 rounded-lg p-4 text-center">
                            <div class="text-3xl font-bold text-yellow-400">3</div>
                            <div class="text-gray-400">Modes de jeu</div>
                        </div>
                    </div>

                    <div class="bg-gray-700/70 rounded-xl p-6">
                        <h3 class="text-xl font-semibold text-yellow-400 mb-3">Crédits</h3>
                        <p class="text-gray-300">Développé avec <i class="fas fa-heart text-red-400"></i> par des passionnés de cinéma</p>
                        <p class="text-gray-400 text-sm mt-2">Version 3.5 - Juillet 2025</p>
                    </div>
                </div>

                <div class="mt-8 text-center">
                    <button data-page="home" class="btn-secondary px-6 py-2 rounded-lg">
                        <i class="fas fa-home mr-2"></i> Retour à l'accueil
                    </button>
                </div>
            </div>
        </section>

        <!-- Setup Page -->
        <section id="setup-page" class="page max-w-4xl mx-auto">
            <div class="bg-gray-800 rounded-xl shadow-2xl p-6 border border-gray-700">
                <h2 class="text-2xl font-bold mb-6 text-center">Configurer votre partie</h2>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold">Équipes</h3>
                        <div id="teams-container">
                            <!-- Les équipes seront ajoutées ici par JS -->
                        </div>
                        <button id="add-team" class="text-yellow-400 hover:text-yellow-300 transition">
                            <i class="fas fa-plus-circle mr-2"></i>Ajouter une équipe 
                        </button>
                        <button id="add-custom-card" class="btn-secondary">
                        <i class="fas fa-plus-circle mr-2"></i> Ajouter une carte personnalisée
                        </button>
                        <div id="custom-cards-container" class="space-y-2 mt-4"></div>
                    </div>


                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold">Options</h3>

                        <div>
                            <label class="block mb-2">Durée par tour</label>
                            <select id="timer-duration" class="input-field w-full">
                                <option value="10">10 secondes</option>
                                <option value="30">30 secondes</option>
                                <option value="60" selected>60 secondes</option>
                                <option value="90">90 secondes</option>
                                <option value="100">100 secondes</option>

                            </select>
                        </div>
                        
                        <div>
                            <label class="block mb-2">Nombre de cartes</label>
                            <select id="cards-count" class="input-field w-full">
                                <option value="10">10 cartes</option>
                                <option value="20">20 cartes</option>
                                <option value="30" selected>30 cartes</option>
                                <option value="40">40 cartes</option>
                                <option value="50">50 cartes</option>
                            </select>
                        </div>

                        <div>
                            <label class="block mb-2">Catégories</label>
                            <div class="grid grid-cols-2 gap-3">
                                <label class="checkbox-container">
                                    <input type="checkbox" checked data-category="films" class="checkbox-input">
                                    <span>Films</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" checked data-category="series" class="checkbox-input">
                                    <span>Séries</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" data-category="acteurs" class="checkbox-input">
                                    <span>Acteurs</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" data-category="personnages" class="checkbox-input">
                                    <span>Personnages</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" data-category="dessinsAnimes" class="checkbox-input">
                                    <span>Dessins Animés</span>
                                </label>
                                <label class="checkbox-container">
                                    <input type="checkbox" data-category="jeuxVideo" class="checkbox-input">
                                    <span>Jeux Vidéo</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 text-center">
                    <button id="start-game" class="btn-primary">
                        Commencer la partie <i class="fas fa-play ml-2"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Game Screen -->
        <section id="game-screen" class="hidden max-w-4xl mx-auto">
            <div class="game-screen-header">
                <div class="flex justify-between items-center">
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-400">Manche:</span>
                        <span id="current-round" class="font-bold">1/3</span>
                    </div>

                    <div id="teams-score" class="flex flex-wrap justify-center gap-x-4 gap-y-1"></div>

                    <div class="timer-container">
                        <svg class="w-full h-full" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#374151" stroke-width="8"/>
                            <circle id="timer-circle" class="timer-circle" cx="50" cy="50" r="45" fill="none" stroke="#f59e0b" stroke-width="8" stroke-linecap="round" transform="rotate(-90 50 50)"/>
                        </svg>
                        <span id="timer" class="timer-text">60</span>
                    </div>
                </div>
            </div>

            <div class="relative h-64 sm:h-80 md:h-96 mb-8">
                <div class="card-container">
                    <div id="game-card" class="card">
                        <div class="card-face card-front">
                            <span id="card-type-badge" class="card-type-badge"></span>
                            <div class="card-content">
                                <span id="round-type" class="round-type-badge"></span>
                                <h3 id="current-card" class="text-2xl sm:text-3xl md:text-4xl font-bold mb-4 text-center"></h3>
                                <p id="round-instruction" class="text-gray-400 mb-6"></p>
                                <div class="card-actions">
                                    <button class="success-btn btn-success px-6 py-2 rounded-lg">
                                        <i class="fas fa-check mr-2"></i>Trouvé
                                    </button>
                                    <button class="skip-btn btn-secondary px-6 py-2 rounded-lg">
                                        <i class="fas fa-forward mr-2"></i>Passer
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="card-face card-back">
                            <div class="back-card-content">
                                <div class="card-category"></div>
                                <p class="text-gray-300">Préparez-vous...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="found-cards-container" class="bg-gray-800 rounded-xl p-4 border border-gray-700">
                <h3 class="text-lg font-semibold mb-3">Cartes trouvées par <span id="current-team-name" class="text-yellow-400"></span>:</h3>
                <div id="found-cards" class="flex flex-wrap gap-2"></div>
            </div>

            <div class="mt-6 text-center">
                <button id="end-game" class="btn-danger px-6 py-2 rounded-lg">
                    <i class="fas fa-stop mr-2"></i>Arrêter la partie
                </button>
            </div>
        </section>

        <!-- Round Transition -->
        <section id="round-transition" class="hidden max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center">
            <h2 id="transition-title" class="text-3xl font-bold mb-6"></h2>
            <div id="transition-info">
                <p class="text-xl mb-2">Cartes trouvées ce tour : <span id="cards-found-count" class="font-bold text-yellow-400"></span></p>
                <p class="text-gray-400">Au tour de <span id="next-team-name" class="font-semibold"></span></p>
            </div>
            
            <div id="round-results" class="grid md:grid-cols-2 gap-6 mt-8"></div>

            <button id="next-round" class="btn-primary mt-8">
                Tour suivant <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </section>

        <!-- Results Screen -->
        <section id="results-screen" class="hidden max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-2xl p-8 border border-gray-700 text-center">
            <h2 class="text-3xl font-bold mb-4">Résultats finaux</h2>
            <p class="text-gray-400 mb-8">Félicitations à l'équipe gagnante !</p>

            <div id="final-results" class="space-y-4 mb-8"></div>

            <button id="new-game" class="btn-primary">
                Nouvelle partie <i class="fas fa-redo ml-2"></i>
            </button>

        </section>

        <!-- Loading Screen -->
        <div id="loading-screen" class="modal-overlay">
            <div class="modal-content text-center">
                <div class="loading-spinner"></div>
                <h3 class="text-xl font-bold mt-4">Préparation de la partie...</h3>
                <p class="text-gray-400 mt-2">Mélange des cartes</p>
            </div>
        </div>

        <!-- Custom Card Modal -->
        <div id="custom-card-modal-overlay" class="modal-overlay">
            <div class="modal-content">
                <h3 id="modal-title" class="text-xl font-bold mb-4"></h3>
                <div id="modal-body"></div>
                <div id="modal-footer" class="mt-6 flex justify-end gap-3"></div>
            </div>
        </div>
    </main>

    <footer class="py-6 px-4 border-t border-gray-800 mt-12 text-center text-gray-500 text-sm">
        <p>© 2025 CineQuiz - Inspiré par Time's Up</p>
    </footer>

    <script src="script.js"></script>
</body>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyAgMRamBwCuAp8g6IdU8om6G4KxLmjLNIM",
    authDomain: "cinequiz-6f7e7.firebaseapp.com",
    projectId: "cinequiz-6f7e7",
    storageBucket: "cinequiz-6f7e7.firebasestorage.app",
    messagingSenderId: "478697742377",
    appId: "1:478697742377:web:9232ef0f39214a0f8abc38",
    measurementId: "G-96M3GE02GL"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</html>